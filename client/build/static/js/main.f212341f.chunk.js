(this["webpackJsonptwiiter-clone"]=this["webpackJsonptwiiter-clone"]||[]).push([[0],{101:function(e,t,s){},102:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),n=s(33),r=s.n(n),i=(s(74),s(22)),o=s(5),l=s(9),j=s.n(l),d=s(20),p=(s(104),s(21)),u=s.n(p),h=s(1),x=function(){var e=Object(o.e)(),t=function(){var t=Object(d.a)(j.a.mark((function t(s){var c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,c={email:s.target[0].value,password:s.target[1].value},t.next=5,u.a.post("http://localhost:5000/auth/login",c);case 5:a=t.sent,localStorage.setItem("userId",a.data.token),e.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("center",{children:Object(h.jsxs)("div",{className:"form",style:{height:"100vh",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(h.jsx)("h2",{children:"Login"}),Object(h.jsxs)("form",{className:"login",onSubmit:t,style:{width:"350px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-around"},children:[Object(h.jsx)("input",{className:"input",type:"email",required:!0,placeholder:"Enter email"}),Object(h.jsx)("input",{className:"input",type:"password",required:!0,placeholder:"Enter password"}),Object(h.jsx)("input",{type:"submit",className:"sidebar__tweet"})]}),Object(h.jsxs)("p",{children:[" Don't have an account ",Object(h.jsx)(i.b,{to:"/register",children:" signup here"})]}),Object(h.jsxs)("div",{style:{backgroundColor:"#50b7f5",color:"#fff",width:"350px"},children:[Object(h.jsx)("h4",{children:" Demo Credentials"}),Object(h.jsx)("h4",{children:" Email : demo@gmail.com"}),Object(h.jsx)("h4",{children:"Password: demo"})]})]})})},b=function(){var e=Object(o.e)(),t=function(){var t=Object(d.a)(j.a.mark((function t(s){var c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,c={fullName:s.target[0].value,email:s.target[1].value,password:s.target[2].value},console.log(c),t.next=6,u.a.post("http://localhost:5000/auth/register",c);case 6:a=t.sent,console.log(a),e.push("/login"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("center",{children:Object(h.jsxs)("div",{className:"form",style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(h.jsx)("h2",{children:"Register here"}),Object(h.jsxs)("form",{className:"login",onSubmit:t,style:{width:"350px",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-around"},children:[Object(h.jsx)("input",{className:"input",type:"text",required:!0,placeholder:"Enter full name"}),Object(h.jsx)("input",{className:"input",type:"email",required:!0,placeholder:"Enter email"}),Object(h.jsx)("input",{className:"input",type:"password",required:!0,placeholder:"Enter password"}),Object(h.jsx)("input",{type:"submit",className:"sidebar__tweet"})]}),Object(h.jsxs)("p",{children:[" Already have an account ",Object(h.jsx)(i.b,{to:"/login",children:" login here"})]}),Object(h.jsxs)("div",{style:{backgroundColor:"#50b7f5",color:"#fff",width:"350px"},children:[Object(h.jsx)("h4",{children:" Demo Credentials"}),Object(h.jsx)("h4",{children:" Email : demo@gmail.com"}),Object(h.jsx)("h4",{children:"Password: demo"})]})]})})},m=function(e){var t=e.active,s=e.text,c=e.Icon,a=e.link;return Object(h.jsx)(i.b,{to:a,style:{color:"#000",textDecoration:"none"},children:Object(h.jsxs)("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active"),children:[Object(h.jsx)(c,{}),Object(h.jsx)("h2",{children:s})]})})},O=s(59),f=s.n(O),g=s(63),v=s.n(g),y=s(43),w=s.n(y),N=s(64),_=s.n(N),I=s(124),k=function(){var e=Object(o.e)(),t=localStorage.getItem("userId");return Object(h.jsxs)("div",{className:"sidebar",children:[Object(h.jsx)(f.a,{className:"sidebar__twitterIcon"}),Object(h.jsx)(m,{Icon:v.a,text:"Home",link:"/"}),Object(h.jsx)(m,{Icon:_.a,text:"Profile",link:"/profile"}),Object(h.jsx)(m,{Icon:w.a,text:"Explore",link:"/"}),Object(h.jsx)(I.a,{variant:"outlined",className:"sidebar__tweet",fullWidth:!0,children:Object(h.jsxs)(i.b,{onClick:function(){t&&localStorage.removeItem("userId"),e.push("/login")},children:[" ",t?"Logout":"Login"," "]})})]})},S=s(26),B=s(125),C=function(){var e=Object(c.useState)(""),t=Object(S.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(""),r=Object(S.a)(n,2),i=r[0],o=r[1],l=localStorage.getItem("userId"),p=function(){var e=Object(d.a)(j.a.mark((function e(){var t,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={caption:s,photo:i},c={"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("userId"))};try{a=u.a.post("http://localhost:5000/post/create",t,{headers:c}),console.log(a)}catch(n){console.log(n)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"tweetBox",children:l?Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"tweetBox__input",children:[Object(h.jsx)(B.a,{src:"https://res.cloudinary.com/talk-amigo/image/upload/v1610989192/dc5dp7q6wupbfu97wkv8.png"}),Object(h.jsx)("input",{onChange:function(e){return a(e.target.value)},value:s,placeholder:"What's happening?",type:"text"})]}),Object(h.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},className:"tweetBox__imageInput",placeholder:"Optional: Enter image URL",type:"text"}),Object(h.jsx)(I.a,{type:"submit",onClick:p,className:"tweetBox__tweetButton",children:"Tweet"})]}):Object(h.jsxs)("center",{children:[" ",Object(h.jsx)("h3",{style:{color:"tomato"},children:" You have to login first to enable Tweet option"})," "]})})},E=s(65),D=s.n(E),T=s(66),q=s.n(T),z=s(67),L=s.n(z),P=function(e){var t=e.displayName,s=e.username,c=e.text,a=e.image,n=e.avatar;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"post",children:[Object(h.jsx)("div",{className:"post__avatar",children:Object(h.jsx)(B.a,{src:n})}),Object(h.jsxs)("div",{className:"post__body",children:[Object(h.jsxs)("div",{className:"post__header",children:[Object(h.jsx)("div",{className:"post__headerText",children:Object(h.jsxs)("h3",{children:[t," ",Object(h.jsxs)("span",{className:"post__headerSpecial",children:[" @",s]})]})}),Object(h.jsx)("div",{className:"post__headerDescription",children:Object(h.jsx)("p",{children:c})})]}),a&&Object(h.jsx)("img",{src:a,alt:""}),Object(h.jsxs)("div",{className:"post__footer",children:[Object(h.jsx)(D.a,{fontSize:"small"}),Object(h.jsx)(q.a,{fontSize:"small"}),Object(h.jsx)(L.a,{fontSize:"small"})]})]})]})})},W=function(){var e=Object(c.useState)(),t=Object(S.a)(e,2),s=t[0],a=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("userId"))},e.next=4,u.a.get("http://localhost:5000/post",{headers:t});case 4:s=e.sent,a(s.data.posts),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(h.jsxs)("div",{className:"feed",children:[Object(h.jsx)("div",{className:"feed__header",children:Object(h.jsx)("h2",{children:"Home"})}),Object(h.jsx)(C,{}),s&&s.map((function(e){return Object(h.jsx)(P,{displayName:e.postedBy&&e.postedBy.fullName,username:e.postedBy&&e.postedBy.fullName.toLowerCase().split(" ").join(""),text:e.caption,image:e.photo,avatar:e.postedBy&&e.postedBy.image,likes:e.likes,comments:e.comments},e._id)}))]})},R=s(49),Y=function(){return Object(h.jsxs)("div",{className:"widgets",children:[Object(h.jsxs)("div",{className:"widgets__input",children:[Object(h.jsx)(w.a,{className:"widgets__searchIcon"}),Object(h.jsx)("input",{placeholder:"Search Twitter",type:"text"})]}),Object(h.jsxs)("div",{className:"widgets__widgetContainer",children:[Object(h.jsx)("h2",{children:"What's happening"}),Object(h.jsx)(R.b,{sourceType:"profile",screenName:"traversymedia",options:{height:600}}),Object(h.jsx)(R.a,{url:"https://facebook.com/cleverprogrammer",options:{text:"#reactjs is awesome",via:"cleverqazi"}})]})]})},A=function(){var e,t=Object(c.useState)(),s=Object(S.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(""),i=Object(S.a)(r,2),o=i[0],l=i[1],p=Object(c.useState)(""),x=Object(S.a)(p,2),b=x[0],m=x[1];return Object(c.useEffect)((function(){e=localStorage.getItem("userId"),function(){var e=Object(d.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("userId"))},e.next=4,u.a.get("http://localhost:5000/post/profile",{headers:t});case 4:s=e.sent,l(s.data.posts[0].postedBy.fullName),m(s.data.posts[0].postedBy.email),console.log(s.data.posts),n(s.data.posts),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(h.jsxs)("div",{className:"feed",children:[Object(h.jsx)("div",{className:"feed__header",children:Object(h.jsx)("h2",{children:"Profile"})}),e?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"profile",style:{padding:"15px 20px",display:"flex",alignItems:"center"},children:[Object(h.jsx)(B.a,{style:{marginRight:"20px",width:"100px !important"},src:"https://res.cloudinary.com/talk-amigo/image/upload/v1610989192/dc5dp7q6wupbfu97wkv8.png"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h3",{children:[" ",o&&o," "]}),Object(h.jsxs)("h3",{children:[" ",b&&b," "]})]})]}),Object(h.jsx)("h2",{style:{fontSize:"20px",fontWEight:800,borderTop:"1px solid #e6ecf0",padding:"15px 20px",color:"#50b7f5"},children:"All Posts"}),a?a.map((function(e){return Object(h.jsx)(P,{displayName:e.postedBy&&e.postedBy.fullName,username:e.postedBy&&e.postedBy.fullName.toLowerCase().split(" ").join(""),text:e.caption,image:e.photo,avatar:e.postedBy&&e.postedBy.image,likes:e.likes,comments:e.comments},e._id)})):Object(h.jsx)("center",{children:"You haven't posted any post yet"})]}):Object(h.jsxs)("div",{style:{marginTop:"50px"},children:[" ",Object(h.jsx)("center",{children:" You have to login first"})," "]})]})};var H=function(){return localStorage.getItem("userId"),Object(h.jsxs)(i.a,{children:[Object(h.jsx)(o.a,{path:"/register",exact:!0,children:Object(h.jsx)(b,{})}),Object(h.jsx)(o.a,{path:"/login",exact:!0,children:Object(h.jsx)(x,{})}),Object(h.jsx)(o.a,{path:"/",exact:!0,children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(k,{}),Object(h.jsx)(W,{}),Object(h.jsx)(Y,{})]})}),Object(h.jsx)(o.a,{path:"/profile",exact:!0,children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(k,{}),Object(h.jsx)(A,{}),Object(h.jsx)(Y,{})]})})]})};s(101);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root"))},74:function(e,t,s){}},[[102,1,2]]]);
//# sourceMappingURL=main.f212341f.chunk.js.map